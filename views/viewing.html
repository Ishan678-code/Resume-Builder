


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>View User Data</title>
  <style>
    pre {
      border: 1px solid black;
      width: 40%;
      padding: 10px;
      background-color: #f4f4f4;
      white-space: pre-wrap; /* Ensures line breaks are preserved */
    }
  </style>
</head>
<body onload="viewData()">
  <pre id="viewDetails"></pre>

<<<<<<< Updated upstream
  <script>
    async function viewData() {
      try {
        // Extract the user id from URL query parameters
        const url = document.URL;
        const queryString = url.split('?')[1];
        const params = new URLSearchParams(queryString);
        let userid = 0;
        for (let [key, value] of params.entries()) {
          userid = value;
        }

        // Fetch data from your API endpoint
        const response = await fetch(`http://localhost:8000/submit/${userid}`, {
          method: "GET",
          headers: { "Content-Type": "application/json" },
        });

        if (response.ok) {
          const userData = await response.json();
          console.log("User Data:", userData);

          // Format the data as desired.
          // Adjust the property names as per your actual data structure.
          const formattedData = `
Name : ${userData.userDetails.name},
Email : ${userData.userDetails.email},
Phone : ${userData.userDetails.phone},
Address : ${userData.userDetails.address},
Brief_Description : ${userData.userDetails.brief_description || 'N/A'},
Skills : ${userData.experienceDetails.skills},

Education Details {
    School Name : ${userData.educationDetails.school},
    Level : ${userData.educationDetails.level},
    Year : ${userData.educationDetails.year},
},

Work Details {
    Company : ${userData.experienceDetails.company},
    Position : ${userData.experienceDetails.position},
    Duties : ${userData.experienceDetails.duties},
    Work Year : ${userData.experienceDetails.work_year},
}
          `;

          // Display the formatted data inside the <pre> element
          document.getElementById("viewDetails").innerText = formattedData;
        } else {
          console.error("Error fetching user data.");
          alert("User not found.");
        }
      } catch (error) {
        console.error("Error:", error);
      }
    }
=======
  <script src="../services/view.js">
    
>>>>>>> Stashed changes
  </script>
</body>
</html>

